# Android端HTTP接口文档
## 接口文档说明
- pathhttp://8.131.98.159:8088/picture/1596198585.jpg
  - baseUrl是服务器的ip地址+服务器开启的端口号，文档中的path为路由路径。
  - 完整的请求路径格式为 `http://ip:port/path`
  - 举例子实现登录功能的请求地址为 `http://8.131.98.159:3000/api/login`
- method
  - 请求的方法举例子POST,GET,PUT,DELETE,OPTIONS等等
  - post
    - 一般情况下的Content-Type为`application/x-www-form-urlencoded`
    - 涉及到上传文件的接口Content-Type为`multipart/form-data`

- params说明
    - 加粗字体为必须参数，前端传的时候务必传过来，后端写代码的时候必须对这部分参数进行检查。
    - 不必须的参数，前端有需要的时候就传，不需要的时候，什么都不传(不能传null或者""这种数据过来)。
    - "**name**:string"
      - 加粗字体 必须传一个name参数
      - name参数是一个字符串
- 返回数据格式定义
  - 失败情况
    ```(json)
    {
        "status":0  //状态码 0表示失败 1表示成功
        "error_code":"2000" //错误码
        “error_des":"身份验证失败"  //错误描述
    }
    ```
  - 成功情况
    ```
    {
        "status":1 //状态码 0表示失败 1表示成功
        "data":{
            //返回的数据
        }
    }
    ```
- 错误码定义

    | 错误码 | 错误描述                                 |
    | :----: | :--------------------------------------- |
    |  1**   | 用户输入类错误                           |
    |  100   | 缺少必要的参数                           |
    |  101   | 传入参数格式有误                         |
    |  102   | 用户未登录                               |
    |  103   | 用户已登录                               |
    |  104   | 用户不存在                               |
    |  105   | 用户账号密码不匹配                       |
    |  112   | 用户身份有误 
	|                        
	|  116	 | 输入旧密码有误，请重新输入			
	|			
    |  120   | 修改密码失败
    |
    |  124   | 关注用户未发布资料                        |
	|  125	 | 数据库无该类型的资料                      |
	|  126	 | 无关注的用户                             |
	|  127	 | 用户未选课                               |
    |  2**   | 数据库类错误                             |
    |  200   | 发起数据库请求出错                       |
    |  201   | 验证用户信息时出错                       |
    |  202   | 获取数据库连接出错                       |
    |  203   | 开启事务失败                             |
    |  204   | 提交事务失败                             |
    |  300   | 调用退出接口发生错误                       |
    |  500   | 出乎意料的错误                           |

## 接口列表
### 1.登录功能(已完成)
- function:未登录状态的用户可以通过账号密码进行登录，并在服务端设置session，保持用户登录态。
- path:
    - 学生登录:/api/login_stu
    - 教师登录:/api/login_tea
    - 管理员登录:/api/login_admin
- method:post
- params
    - **userid**:string
    - **password**:string
- data
    ```
    data:{
        msg:'登录成功'
    }
	```
### 2.退出登录功能(已完成)
- function:已登录用户可通过调用端口退出登录
- path:/api/loginout
- method:get
- data
    ```
    data:{
        msg:'退出成功'
    }
	```


